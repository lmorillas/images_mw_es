<!DOCTYPE html>
<html>

<head>
    <title>Fotos Wikimedia - es 2015</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="http://www.simile-widgets.org/styles/common.css" type="text/css" />
    <link href="eventos_2015.json" type="application/json" rel="exhibit-data" />
    <script src="http://api.simile-widgets.org/exhibit/HEAD/exhibit-api.js"></script>
    <link rel="exhibit-extension" type="text/javascript" href="http://api.simile-widgets.org/exhibit/HEAD/extensions/time/time-extension.js" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/bootstrap/3.3.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/bootstrap/3.3.0/css/bootstrap-theme.min.css" />
    <script src="http://api.simile-widgets.org/exhibit/HEAD/lib/jquery.min.js" type="text/javascript"></script>
    <script src="https://cdn.jsdelivr.net/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

    </style>
    <script>
    function muestra_evento(rec) {
        var itemID = rec.getAttribute("itemid");
        var fotos = rec.getAttribute("fotos");
        fotos = fotos.split(";");
        var labels = rec.getAttribute("labels")
        labels = labels.split(";");
        var inicio = '<div id="myCarousel" class="carousel slide" data-ride="carousel">';
        var cuerpo = '<div class="carousel-inner" role="listbox">';
        var fin = '<a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a>\
        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next"><span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a>\
    </div>'

        var pos = rec.getElementsByClassName('fotosevento');

        var images = '<div class="item active"><img src="' + fotos[0] + '" alt="' + labels[0] + '"> </div>';

        for (i = 1; i < fotos.length; i++) {
            images += '<div class="item"><img src="' + fotos[i] + '" alt="' + labels[i] + '"> </div>';
        }
        jQuery(pos).append(inicio + cuerpo + images + '</div>' + fin);
    }
    </script>
</head>

<body>
    <div data-ex-role="collection" data-ex-item-types="categoria"></div>
    <div class="container-fluid">
        <div class="row page-header center-block">
            <img style="float:left" src="https://wikimedia.es/blog/wikimedia_espana_logo.png" alt="Wikimedia España">
            <h1 class="text-center">Eventos Wikimedia-es 2015</h1>
        </div>
        <div class="row">
            <div class="col-xs-12">
                <div data-ex-role="viewPanel">
                    <div data-ex-role="view" data-ex-label="Un año en fotos" data-ex-view-class="Timeline" data-ex-bottom-band-unit="year" data-ex-bottom-band-unit="month" data-ex-start=".inicio" data-ex-end=".fin" data-ex-bubble-width="200" data-ex-bubble-height="220">
                        <div data-ex-role="lens" class="lens" style="display: none" data-ex-onshow="muestra_evento(this)" data-ex-fotos-content=".fotos.thumburl" data-ex-labels-content=".fotos">
                            <div class="fotosevento">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
